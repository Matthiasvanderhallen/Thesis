\chapter{LLVM Code}
\label{app:LLVMCode}
\section{@mask, @unmask \& @unmasktype}
This section contains the LLVM IR code for the \lsttext{@mask}, \lsttext{@unmask} and \lsttext{@unmasktype} functions. These functions handle the masking process. They take an integer representing a pointer and return an integer representing the index of this pointer in the mask list, or vice versa. 
\input{maskllvm}
\section{@tyvarcheck}
This section contains the LLVM IR code for the \lsttext{@tyvarcheck} function. It is tasked with checking whether two \lsttext{\%tyvar} values are the same type.
\input{tyvarcheck}
\section{Polymorphic Example}
\label{sec:PolymorphicExample}

In \myref{lst}{llvm:polymorphic}, the \LLVMIR translation of \myref{lst}{ml:polymorphic} is shown, to illustrate how polymorphic functions are handled.

\begin{lstlisting}[frame=single, language=ML,numbers=left, label=ml:polymorphic, caption={[Pair structure MiniML]The polymorphic Pair structure.}]
signature PAIRSIG =
    sig 
        type t a
        val createPair : a -> a -> t a
        val getLeft : t a -> a
    end

structure Pair :> PAIRSIG =
    struct
        type t a = (a,a)
        fun createPair left right = (left,right)
        fun getLeft pair = pair.#1
    end
\end{lstlisting}

\input{PolymorphFunction}
